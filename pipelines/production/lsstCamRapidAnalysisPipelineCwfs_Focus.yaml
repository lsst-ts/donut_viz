description: Rapid analysis pipeline for LSSTCam.  Process the input images with ISR,  find and cut out the donut stamps, fit donut radius.

instrument: lsst.obs.lsst.LsstCam

tasks:
  isr:
    class: lsst.ip.isr.IsrTaskLSST
    config:
      connections.outputExposure: post_isr_image
      # Although we don't have to apply the amp offset corrections, we do want
      # to compute them for analyzeAmpOffsetMetadata to report on as metrics.
      doAmpOffset: False
      ampOffset.doApplyAmpOffset: False
      # Turn off slow steps in ISR but mask saturated pixels
      doBrighterFatter: False
      doSaturation: True
      crosstalk.doQuadraticCrosstalkCorrection: False
      qa.saveStats: False
      doStandardStatistics: False
      doInterpolate: False
      doVariance: False
      doDeferredCharge: False
      doDefect: False
      doApplyGains: False
      doBias: False
      doFlat: False
      doDark: False
      doLinearize: False
      doSuspect: False
      doSetBadRegions: False
      doBootstrap: False
      doCrosstalk: False
      doITLEdgeBleedMask: False
  generateDonutDirectDetectTask:
    class: lsst.ts.wep.task.generateDonutDirectDetectTask.GenerateDonutDirectDetectTask
    config:
      doDonutSelection: False
  cutOutDonutsCwfsPairTask:
    class: lsst.ts.wep.task.cutOutDonutsCwfsTask.CutOutDonutsCwfsTask
    config:
      # And here we specify the configuration settings originally defined in
      # CutOutDonutsCwfsTaskConfig.
      # Test CWFS pipeline works when specifying instrument parameters.
      donutStampSize: 400
      initialCutoutPadding: 40
  reassignCwfsCutoutsPairTask:
    class: lsst.ts.wep.task.reassignCwfsCutoutsTask.ReassignCwfsCutoutsTask
  fitDonutRadiusTask:
    class: lsst.ts.wep.task.fitDonutRadiusTask.FitDonutRadiusTask
